<%- include('header') %>
<h2 class="text-2xl font-bold mb-4 text-center">Connection Requests</h2>
<div class="flex flex-wrap gap-6 justify-center">
  <% if (requests && requests.length) { %>
    <% requests.forEach(user => { %>
      <div class="card bg-base-100 w-80 shadow-xl">
        <div class="card-body items-center">
          <img src="<%= user.photoUrl || 'https://img.daisyui.com/images/stock/photo-1606107557195-0e29a4b5b4aa.webp' %>" class="w-24 h-24 rounded-full mx-auto" />
          <h3 class="card-title mt-2"><%= user.firstName %> <%= user.lastName %></h3>
          <p class="text-gray-600"><%= user.about || 'No bio provided.' %></p>
          <div class="card-actions justify-center mt-4">
            <form method="post" action="/request/review/accepted/<%= user._id %>" style="display:inline;">
              <button class="btn btn-success" type="submit">Accept</button>
            </form>
            <form method="post" action="/request/review/rejected/<%= user._id %>" style="display:inline;">
              <button class="btn btn-error" type="submit">Reject</button>
            </form>
          </div>
        </div>
      </div>
    <% }) %>
  <% } else { %>
    <p class="text-center text-gray-500">No requests found.</p>
  <% } %>
</div>